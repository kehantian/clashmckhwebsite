<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxy Tool Downloads & Feature Advisor</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Applying the Inter font to the body */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Hide scrollbar for modal content */
        #feature-results::-webkit-scrollbar {
            display: none;
        }
        #feature-results {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-gray-900 text-white antialiased">

    <!-- New Header -->
    <header class="bg-gray-800 border-b border-gray-700 sticky top-0 z-40">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <!-- Website Name -->
                <div class="text-2xl font-bold text-white">
                    Khmcq
                </div>
                <!-- Right side buttons -->
                <div class="flex items-center space-x-4">
                    <a href="https://www.khmcq.com" target="_blank" rel="noopener noreferrer" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm">
                        <span data-lang-key="backButton">Back to Khmcq.com</span>
                    </a>
                    <button id="language-switcher" class="bg-gray-600 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm">
                        中文
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-8 sm:py-12 md:py-20">

        <!-- Main Header Section -->
        <header class="text-center mb-12 md:mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-3" data-lang-key="mainTitle">Get Your proxy</h1>
            <p class="text-lg text-gray-400 max-w-2xl mx-auto" data-lang-key="mainSubtitle">Secure, fast, and reliable Proxy tools for all your devices. Download now for complete privacy.</p>
        </header>

        <!-- OS Sections Container -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">

            <!-- Android Section -->
            <section id="android" class="bg-gray-800 border border-gray-700 rounded-xl shadow-lg p-8 flex flex-col items-center text-center transform hover:scale-105 transition-transform duration-300">
                <div class="mb-6">
                    <svg class="w-20 h-20 text-green-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M18.72,14.28a1,1,0,0,0-1.44,0l-1.63,1.63a1,1,0,0,1-1.41,0L12.37,14a1,1,0,0,0-1.41,0L9.09,15.91a1,1,0,0,1-1.41,0L6.72,14.28a1,1,0,0,0-1.44,0,1,1,0,0,0,0,1.44l1.63,1.63a1,1,0,0,1,0,1.41L5.28,20.39a1,1,0,0,0,0,1.44,1,1,0,0,0,1.44,0l1.63-1.63a1,1,0,0,1,1.41,0L11.63,22a1,1,0,0,0,1.41,0l1.87-1.87a1,1,0,0,1,1.41,0l1.63,1.63a1,1,0,0,0,1.44,0,1,1,0,0,0,0-1.44l-1.63-1.63a1,1,0,0,1,0-1.41l1.63-1.63A1,1,0,0,0,18.72,14.28ZM8,11a2,2,0,1,0,2,2A2,2,0,0,0,8,11Zm8,0a2,2,0,1,0,2,2A2,2,0,0,0,16,11ZM17.5,2H6.5A3.5,3.5,0,0,0,3,5.5v8A3.5,3.5,0,0,0,6.5,17h11A3.5,3.5,0,0,0,21,13.5v-8A3.5,3.5,0,0,0,17.5,2Z"/></svg>
                </div>
                <h2 class="text-2xl font-bold text-white mb-3">Android</h2>
                <p class="text-gray-400 mb-6 flex-grow" data-lang-key="androidDesc">Download our Proxy app for your Android phone or tablet to stay secure on the go.</p>
                <a href="https://cloud.khmcq.com/raw/clash/Surfboard_mobile-2.25.1%20(Build%20259)_APKPure.apk" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                    <span data-lang-key="androidButton">Download for Android</span>
                </a>
            </section>

            <!-- Windows Section -->
            <section id="windows" class="bg-gray-800 border border-gray-700 rounded-xl shadow-lg p-8 flex flex-col items-center text-center transform hover:scale-105 transition-transform duration-300">
                <div class="mb-6">
                     <svg class="w-20 h-20 text-blue-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M11.5,22H6a1,1,0,0,1-1-1V3A1,1,0,0,1,6,2h5.5Z"/><path d="M20,2H12.5V22H20a1,1,0,0,0,1-1V3A1,1,0,0,0,20,2Z"/></svg>
                </div>
                <h2 class="text-2xl font-bold text-white mb-3">Windows</h2>
                <p class="text-gray-400 mb-6 flex-grow" data-lang-key="windowsDesc">Get the native Windows client for a seamless and powerful Proxy experience on your PC.</p>
                <a href="https://cloud.khmcq.com/raw/clash/Clash.Verge_1.3.8_x64-setup.exe" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                    <span data-lang-key="windowsButton">Download for Windows</span>
                </a>
            </section>

            <!-- Mac Section -->
            <section id="mac" class="bg-gray-800 border border-gray-700 rounded-xl shadow-lg p-8 flex flex-col items-center text-center transform hover:scale-105 transition-transform duration-300">
                <div class="mb-6">
                    <svg class="w-20 h-20 text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M20.94,8.34a5.15,5.15,0,0,0-4.2-2.34,5.33,5.33,0,0,0-4.43,2.47A5.37,5.37,0,0,0,8.1,6a5.14,5.14,0,0,0-4.2,2.34,5.77,5.77,0,0,0,1.36,8,5.46,5.46,0,0,0,4.22,2.16,5.17,5.17,0,0,0,4.42-2.46,5.17,5.17,0,0,0,4.42,2.46,5.46,5.46,0,0,0,4.22-2.16A5.77,5.77,0,0,0,20.94,8.34ZM12.32,4.31a1,1,0,0,1,1.36,0,3.31,3.31,0,0,1,1,2.44,1,1,0,0,1-1,1,1.33,1.33,0,0,0-1.33,1.34,1,1,0,0,1-1,.9,3.54,3.54,0,0,1-2.4-1.12A3.3,3.3,0,0,1,12.32,4.31Z"/></svg>
                </div>
                <h2 class="text-2xl font-bold text-white mb-3">macOS</h2>
                <p class="text-gray-400 mb-6 flex-grow" data-lang-key="macDesc">Our sleek and simple macOS app integrates perfectly with your Mac for ultimate protection.</p>
                <a href="https://cloud.khmcq.com/raw/clash/ClashX-Pro.dmg" class="w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                    <span data-lang-key="macButton">Download for macOS</span>
                </a>
            </section>
        </div>

        <!-- Gemini Feature Advisor Section -->
        <section id="gemini-advisor" class="bg-gray-800 border border-gray-700 rounded-xl shadow-lg p-8 md:p-12 text-center">
            <h2 class="text-3xl font-bold text-white mb-4" data-lang-key="advisorTitle">Not Sure What You Need?</h2>
            <p class="text-lg text-gray-400 max-w-3xl mx-auto mb-8" data-lang-key="advisorSubtitle">Let our AI-powered advisor suggest the best Proxy features for your specific activities, whether it's streaming, gaming, or secure browsing.</p>
            <button id="open-advisor-modal" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 text-lg inline-flex items-center">
                <span data-lang-key="advisorButton">✨ Suggest Features For My Use Case</span>
            </button>
        </section>

        <!-- Footer -->
        <footer class="text-center mt-16 text-gray-500">
            <p data-lang-key="footer">© 2025 KHMCQ & SHRICL. All Rights Reserved.</p>
        </footer>
    </div>

    <!-- Modal for Gemini Feature Advisor -->
    <div id="advisor-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl p-8 transform transition-all scale-95 opacity-0" id="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-white" data-lang-key="modalTitle">AI Feature Advisor</h3>
                <button id="close-modal" class="text-gray-400 hover:text-white text-3xl leading-none">&times;</button>
            </div>
            
            <div id="advisor-input-section">
                <p class="text-gray-400 mb-4" data-lang-key="modalDesc">Describe how you'll use the VPN (e.g., "streaming HD movies," "competitive online gaming," "securely accessing my work files from public Wi-Fi").</p>
                <textarea id="use-case-input" rows="3" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none" data-lang-key-placeholder="modalPlaceholder"></textarea>
                <button id="get-suggestions" class="w-full mt-4 bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                    <span data-lang-key="modalGetSuggestions">Get Suggestions</span>
                </button>
            </div>

            <div id="loading-spinner" class="text-center py-8 hidden">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400 mx-auto"></div>
                <p class="mt-4 text-gray-400" data-lang-key="modalLoading">Analyzing your needs...</p>
            </div>

            <div id="feature-results-section" class="hidden">
                 <h4 class="text-xl font-bold text-white mb-4" data-lang-key="modalResultsTitle">Recommended Features:</h4>
                 <div id="feature-results" class="bg-gray-900 rounded-lg p-4 max-h-64 overflow-y-auto text-gray-300 space-y-3"></div>
                 <button id="try-again" class="w-full mt-6 bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                     <span data-lang-key="modalTryAgain">Try Another Use Case</span>
                 </button>
            </div>
        </div>
    </div>

    <script>
        // --- Language Data ---
        const translations = {
            en: {
                backButton: "Back to Khmcq.com",
                mainTitle: "Get Your VPN",
                mainSubtitle: "Secure, fast, and reliable VPN tools for all your devices. Download now for complete privacy.",
                androidDesc: "Download our VPN app for your Android phone or tablet to stay secure on the go.",
                androidButton: "Download for Android",
                windowsDesc: "Get the native Windows client for a seamless and powerful VPN experience on your PC.",
                windowsButton: "Download for Windows",
                macDesc: "Our sleek and simple macOS app integrates perfectly with your Mac for ultimate protection.",
                macButton: "Download for macOS",
                advisorTitle: "Not Sure What You Need?",
                advisorSubtitle: "Let our AI-powered advisor suggest the best VPN features for your specific activities, whether it's streaming, gaming, or secure browsing.",
                advisorButton: "✨ Suggest Features For My Use Case",
                footer: "© 2025 KHMCQ & SHRICL. All Rights Reserved.",
                modalTitle: "AI Feature Advisor",
                modalDesc: "Describe how you'll use the VPN (e.g., \"streaming HD movies,\" \"competitive online gaming,\" \"securely accessing my work files from public Wi-Fi\").",
                modalPlaceholder: "Tell us your use case...",
                modalGetSuggestions: "Get Suggestions",
                modalLoading: "Analyzing your needs...",
                modalResultsTitle: "Recommended Features:",
                modalTryAgain: "Try Another Use Case"
            },
            zh: {
                backButton: "返回 Khmcq.com",
                mainTitle: "获取您的 VPN",
                mainSubtitle: "为您的所有设备提供安全、快速、可靠的代理工具。立即下载以获得完全的隐私保护。",
                androidDesc: "为您的安卓手机或平板电脑下载我们的代理应用，随时随地保持安全。",
                androidButton: "下载安卓版",
                windowsDesc: "获取原生 Windows 客户端，在您的电脑上享受无缝、强大的代理体验。",
                windowsButton: "下载 Windows 版",
                macDesc: "我们时尚简洁的 macOS 应用与您的 Mac完美集成，提供终极保护。",
                macButton: "下载 macOS 版",
                advisorTitle: "不确定您需要什么？",
                advisorSubtitle: "让我们的 AI 顾问根据您的具体活动（无论是流媒体、游戏还是安全浏览）推荐最佳的 VPN 功能。",
                advisorButton: "✨ 为我的使用场景推荐功能",
                footer: "© 2025 KHMCQ & SHRICL. 版权所有。",
                modalTitle: "AI 功能顾问",
                modalDesc: "描述您将如何使用代理（例如，“看高清电影”、“玩竞技类网游”、“在公共 Wi-Fi 上安全访问我的工作文件”）。",
                modalPlaceholder: "告诉我们您的使用场景...",
                modalGetSuggestions: "获取建议",
                modalLoading: "正在分析您的需求...",
                modalResultsTitle: "推荐功能：",
                modalTryAgain: "尝试其他使用场景"
            }
        };

        let currentLanguage = 'en';

        // --- Language Switcher Logic ---
        const languageSwitcherBtn = document.getElementById('language-switcher');
        
        const setLanguage = (lang) => {
            currentLanguage = lang;
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                if (translations[lang][key]) {
                    el.innerText = translations[lang][key];
                }
            });
             document.querySelectorAll('[data-lang-key-placeholder]').forEach(el => {
                const key = el.getAttribute('data-lang-key-placeholder');
                if (translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });
            languageSwitcherBtn.innerText = lang === 'en' ? '中文' : 'English';
        };

        languageSwitcherBtn.addEventListener('click', () => {
            const newLang = currentLanguage === 'en' ? 'zh' : 'en';
            setLanguage(newLang);
        });

        // --- Modal DOM elements ---
        const openModalBtn = document.getElementById('open-advisor-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const modal = document.getElementById('advisor-modal');
        const modalContent = document.getElementById('modal-content');
        const inputSection = document.getElementById('advisor-input-section');
        const loadingSpinner = document.getElementById('loading-spinner');
        const resultsSection = document.getElementById('feature-results-section');
        const featureResultsDiv = document.getElementById('feature-results');
        const getSuggestionsBtn = document.getElementById('get-suggestions');
        const useCaseInput = document.getElementById('use-case-input');
        const tryAgainBtn = document.getElementById('try-again');

        // --- Modal Logic ---
        openModalBtn.addEventListener('click', () => {
            modal.classList.remove('hidden');
            setTimeout(() => { modalContent.classList.remove('scale-95', 'opacity-0'); }, 10); 
        });

        const closeModal = () => {
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                resetToInitialState();
            }, 200);
        };

        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) closeModal();
        });

        // --- Advisor Logic ---
        const resetToInitialState = () => {
            inputSection.classList.remove('hidden');
            loadingSpinner.classList.add('hidden');
            resultsSection.classList.add('hidden');
            useCaseInput.value = '';
            featureResultsDiv.innerHTML = '';
        };
        
        tryAgainBtn.addEventListener('click', resetToInitialState);

        getSuggestionsBtn.addEventListener('click', async () => {
            const userInput = useCaseInput.value.trim();
            if (!userInput) {
                alert(currentLanguage === 'en' ? 'Please describe your use case.' : '请输入您的使用场景。');
                return;
            }

            inputSection.classList.add('hidden');
            loadingSpinner.classList.remove('hidden');
            resultsSection.classList.add('hidden');

            const prompt = `As a VPN expert, analyze the following user need: "${userInput}". Based on this, recommend 3-5 specific VPN features that would be most beneficial. For each feature, provide a brief, easy-to-understand explanation of why it's important for their stated use case. Present the output as a series of simple paragraphs. The user's current language is ${currentLanguage === 'zh' ? 'Simplified Chinese' : 'English'}. Please provide the response in that language.`;

            try {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`API request failed with status ${response.status}`);

                const result = await response.json();
                
                let text = currentLanguage === 'en' ? 'Could not generate suggestions at this time.' : '暂时无法生成建议。';
                if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                    text = result.candidates[0].content.parts[0].text;
                }
                
                const formattedText = text.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, '<br><br>');
                featureResultsDiv.innerHTML = formattedText;

            } catch (error) {
                console.error("Error calling Gemini API:", error);
                featureResultsDiv.innerHTML = `<p class="text-red-400">${currentLanguage === 'en' ? 'Sorry, we couldn\'t get suggestions right now.' : '抱歉，我们现在无法获取建议。'}</p>`;
            } finally {
                loadingSpinner.classList.add('hidden');
                resultsSection.classList.remove('hidden');
            }
        });

        // Initialize language on page load
        setLanguage('en');
    </script>
</body>
</html>
